<style>
#lbl_cc {
  overflow: hidden;
  white-space: nowrap;
  width: 100%;
}

.sliding-text {
  display: inline-block;
  padding-left: 100%;
  animation: slide-left 10s linear infinite;
  animation-play-state: running;
}

.sliding-text:hover {
  animation-play-state: paused;
}



/* ✅ Error message styling */
.error-message-container {
  width: 100%;
  text-align: left;
  margin-top: 70px;
}


</style>

<form (ngSubmit)="ChangePassword()">
  <div *ngIf="showForm"
    class="container d-flex justify-content-center align-items-center min-vh-100"
    style="overflow: hidden; margin-top: -5%;"
  >
    <div
      class="col-sm-10 col-md-8 col-lg-6 p-4 bg-white rounded d-flex flex-column align-items-center form-animate"
    >
      <div class="mb-4">
        <img src="Images/PortME.jpg" class="img-fluid" alt="Logo" />
      </div>

      <div class="container">
        <div class="border-0" style="max-width: 500px; margin: auto;">
          <div class="text-center py-3 rounded-top">
            <h4 class="mb-0 fw-bold">
              <i class="bi bi-lock-fill me-2"></i>Change Password
            </h4>
          </div>
        </div>
      </div>

      <!-- Old Password -->
      <div class="form-floating mb-3 w-100">
        <input
          #oldPass
          [(ngModel)]="userObj.OldPassword"
          name="oldPassword"
          class="Font form-control form-controlA"
          id="txtOldPass"
          autocomplete="off"
          placeholder="Old Password"
          type="password"
        />
        <label for="txtOldPass" style="font-size: 14px;">Old Password</label>
      </div>

      <!-- New Password -->
      <div class="form-floating mb-3 w-100">
        <input
          #newPass
          [(ngModel)]="userObj.NewPassword"
          name="newPassword"
          class="Font form-controlA form-control"
          id="txtNewPass"
          type="password"
          placeholder="New Password"
        />
        <label for="txtNewPass" style="font-size: 14px;">New Password</label>
      </div>

      <!-- Confirm Password -->
      <div class="form-floating mb-1 w-100">
        <input
          #confirmPass
          [(ngModel)]="userObj.ConfrmPass"
          name="confirmPassword"
          class="Font form-controlA form-control"
          id="txtConfirmPass"
          type="password"
          placeholder="Confirm Password"
        />
        <label for="txtConfirmPass" style="font-size: 14px;">Confirm Password</label>
      </div>

      <!-- ✅ Error message niche confirm password ke -->
      <div *ngIf="errmessage" class="error-message-container">
        <div >
          <label class="error-messageCP">{{ errmessage }}</label>
        </div>
      </div>

      <br />

      <!-- Buttons -->
      <div class="d-flex justify-content-between w-100">
        <div class="col-6 btn-spacing">
          <button
            type="submit"
            id="btn_Login"
            class="btn-custom w-100 btn-lg"
             >
             <!-- [disabled]="!isFormValid" -->
              <i class="bi bi-arrow-right-circle"></i>
 Submit

          </button>
        </div>
        <div class="col-6 btn-spacing">
          <button
            type="button"
            id="Btn_Reset"
            class="btn-custom w-100 btn-lg"
            (click)="onReset()"
          >
                <i class="bi bi-arrow-clockwise"></i> RESET
          </button>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="showSuccess" class="d-flex justify-content-center align-items-center min-vh-100" style="margin-bottom: 20%;">
  <div class="col-sm-8 col-md-6 col-lg-4 p-4 bg-white rounded shadow text-center">

    <div class="mb-3">
      <i class="bi bi-check-circle-fill" style="font-size:48px; color:#28a745;"></i>
    </div>

    <h5 class="text-success fw-bold mb-3">
      {{ successMessage }}
    </h5>

    <button class="btn btn-primary w-100" (click)="onReLogin()">
      Re-Login
    </button>

  </div>
</div>

  <!-- Footer Section -->
   <!-- Footer -->
  <div id="lbl_cc" class="borderC text-center mt-3">
    <span>© Copyright Computer Research Pvt Ltd, All Rights Reserved</span>
  </div>
</form>
